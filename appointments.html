<!DOCTYPE html>
<html lang="en">
  <head>
    <title>Appointments</title>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <link href="styles.css" rel="stylesheet" type="text/css" />
    <script>
      function toggleEdit() {
        let element = document.getElementById("update");
        if (element.style.display === "none") {
          element.style.display = "block";
        } else {
          element.style.display = "none";
        }
      }
      function toggleDelete(id) {
        let element = document.getElementById("delete");
        if (element.style.display === "none") {
          var fields = document.getElementById('delete-fieldset');
          var newlabel = document.createElement("Label");
          newlabel.id='created-label';
          newlabel.innerHTML = `ID: ${id}`;
          fields.appendChild(newlabel);
          element.style.display = "block";
        } else {
          let element = document.getElementById("delete");
          element.style.display = "none";
          let oldLabel = document.getElementById('created-label');
          oldLabel.remove();
        }
      }
    </script>
  </head>

<body>
  <nav>
    <ul>
      <li><a href="./index.html">Home</a></li>
      <li><a href="./doctors.html">Doctors</a></li>
      <li><a href="./patients.html">Patients</a></li>
      <li><a href="./patients_illnesses.html">Patients-Illnesses</a></li>
      <li><a href="./appointments.html">Appointments</a></li>
      <li><a href="./illnesses.html">Illnesses</a></li>
      <li><a href="./treatments.html">Treatments</a></li>
      <li><a href="./illnesses-treatments.html">Illnesses-Treatments</a></li>
    </ul>
  </nav>

  <h1>Appointments</h1>

  <div class="table-wrapper" id="all-appointments-div">
    <p><strong>Browse Appointments</strong></p>
    <table id="all-appointments">
      <tr>
        <th>ID</th>
        <th>Patient ID</th>
        <th>Patient Name</th>
        <th>Doctor ID</th>
        <th>Doctor Name</th>
        <th>Date</th>
        <th>Time</th>
        <th>Edit</th>
        <th>Delete</th>
      </tr>
      <tr>
        <td>1</td>
        <td>1</td>
        <td >Mark Hanson</td>
        <td>1</td>
        <td>Michael Smith</td>
        <td>2023-01-01</td>
        <td>09:00</td>
        <td><a href="#" onclick="toggleEdit()"><img class="edit-icon" src="assets/edit-icon.png"></a></td>
        <td><a href="#" onclick="toggleDelete(`1 Mark Hanson with Dr. Michael Smith on 2023-01-01 at 09:00`)"><img class="delete-icon" src="assets/delete-icon.png"></a></td>
      </tr>
      <tr>
        <td>2</td>
        <td>3</td>
        <td >Stephen Miller</td>
        <td>2</td>
        <td>John Adams</td>
        <td>2023-01-07</td>
        <td>11:00</td>
        <td><a href="#" onclick="toggleEdit()"><img class="edit-icon" src="assets/edit-icon.png"></a></td>
        <td><a href="#" onclick="toggleDelete(`2 Stephen Miller with Dr. John Adams on 2023-01-07 at 11:00`)"><img class="delete-icon" src="assets/delete-icon.png"></a></td>
      </tr>
      <tr>
        <td>3</td>
        <td>2</td>
        <td >Alice Wells</td>
        <td>3</td>
        <td>David Jones</td>
        <td>2023-01-07</td>
        <td>14:00</td>
        <td><a href="#" onclick="toggleEdit()"><img class="edit-icon" src="assets/edit-icon.png"></a></td>
        <td><a href="#" onclick="toggleDelete(`3 Alice Wells with Dr. David Jones on 2023-01-07 at 14:00`)"><img class="delete-icon" src="assets/delete-icon.png"></a></td>
      </tr>
      <tr>
        <td>4</td>
        <td>5</td>
        <td >Joey Clarke</td>
        <td>4</td>
        <td>Fred Johnson</td>
        <td>2023-01-08</td>
        <td>10:00</td>
        <td><a href="#" onclick="toggleEdit()"><img class="edit-icon" src="assets/edit-icon.png"></a></td>
        <td><a href="#" onclick="toggleDelete(`4 Joey Clarke with Dr. Fred Johnson on 2023-01-08 at 10:00`)"><img class="delete-icon" src="assets/delete-icon.png"></a></td>
      </tr>
      <tr>
        <td>5</td>
        <td>3</td>
        <td >Stephen Miller</td>
        <td>2</td>
        <td>John Adams</td>
        <td>2023-01-10</td>
        <td>09:00</td>
        <td><a href="#" onclick="toggleEdit()"><img class="edit-icon" src="assets/edit-icon.png"></a></td>
        <td><a href="#" onclick="toggleDelete(`5 Stephen Miller with Dr. John Adams on 2023-01-10 at 09:00`)"><img class="delete-icon" src="assets/delete-icon.png"></a></td>
      </tr>
    </table>
  </div>

  <div id="insert" style="display: block">
      <form id="addAppointment">
          <legend><strong>Create Appointment</strong></legend>
            <fieldset class="fields">
              <label> Patient </label> <select name="patient_name">
                  <option value="1">Alice Wells</option>
                  <option value="2">Craig Ford</option>
                  <option value="3">Joey Clarke</option>
                  <option value="4">Mark Hanson</option>
                  <option value="5">Stephen Miller</option>
                  </select>
              <label> Doctor </label> <select name="doctor_name">
                  <option value="1">David Jones</option>
                  <option value="2">Fred Johnson</option>
                  <option value="3">John Adams</option>
                  <option value="4">Michael Smith</option>
                  <option value="5">Thomas King</option>
                  <option value="6">NULL</option>
                  </select>
              <label>Date</label> <input type="date" name="appt_date">
              <label>Time</label> <input type="time" name="appt_time">
            </fieldset>
            <input class="btn" type="submit" id="addAppointment" value="Set Appointment">
            <input class="btn" type="button" value="Cancel">
    </form>
  </div>

  <br>
  <div id="update" style="display: none">
    <form id="updateAppointment">
        <legend><strong>Update Appointment</strong></legend>
            <fieldset class="fields">
            <label>ID:</label> 1
              <label> Patient </label> <select name="patient_name">
                  <option value="1" selected="selected">Mark Hanson</option>
                  <option value="2">Alice Wells</option>
                  <option value="3">Stephen Miller</option>
                  <option value="4">Craig Ford</option>
                  <option value="5">Joey Clark</option>
                  </select>
              <label> Doctor </label> <select name="doctor_name">
                  <option value="1" selected="selected">Michael Smith</option>
                  <option value="2">John Adams</option>
                  <option value="3">David Jones</option>
                  <option value="4">Fred Johnson</option>
                  <option value="5">Thomas King</option>
                  <option value="6">NULL</option>
                  </select>
              <label>Date</label> <input type="date" name="appt_date" value="2023-01-01">
              <label>Time</label> <input type="time" name="appt_time" value="09:00">
            </fieldset>
            <input class="btn" type="submit" id="addAppointment" value="Set Appointment">
            <input class="btn" type="button" value="Cancel" onclick="toggleEdit()">
    </form> 
  </div>

  <br>
  <div id="delete" style="display: none">
    <form id="deleteAppointment">
        <legend><strong>Delete Appointment</strong></legend>
            <fieldset id="delete-fieldset" class="fields">
            <p>Are you sure you wish to delete the following?</p>
      </fieldset>
      <input class="btn" type="submit" id="deletePatient" value="Delete Appointment">
            <input class="btn" type="button" value="Cancel" onclick="toggleDelete()">
    </form> 
  </div>
</body>
</html>
